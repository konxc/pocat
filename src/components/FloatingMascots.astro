---
import coreApi from '../assets/pocat-maskot-core-api.png';
import cupu from '../assets/pocat-maskot-cupu.png';
---

<div class="hero-mascots">
  <img src={coreApi.src} alt="Core API" class="mascot-core" />
  <img src={cupu.src} alt="Cupu" class="mascot-cupu" />
</div>

<script>
  let ticking = false;
  
  function updateParallax() {
    const scrolled = window.pageYOffset;
    const core = document.querySelector('.mascot-core');
    const cupu = document.querySelector('.mascot-cupu');
    const main = document.querySelector('.hero .sl-flex img');
    
    if (core) core.style.transform = `translateY(${scrolled * -0.2}px) rotate(-10deg)`;
    if (cupu) cupu.style.transform = `translateY(${scrolled * -0.3}px) scaleX(-1) rotate(15deg)`;
    if (main) main.style.transform = `translateY(${scrolled * -0.1}px) scale(${1 + scrolled * 0.0001})`;
    
    ticking = false;
  }
  
  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(updateParallax);
      ticking = true;
    }
  }
  
  window.addEventListener('scroll', requestTick);
</script>

<style>
  .hero-mascots {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10;
  }
  
  .mascot-core {
    position: absolute;
    bottom: 25%;
    left: 40%;
    width: 60px;
    transform: rotate(-10deg);
    animation: float-slow 4s ease-in-out infinite;
  }
  
  .mascot-cupu {
    position: absolute;
    top: 20%;
    left: 5%;
    width: 55px;
    transform: scaleX(-1) rotate(15deg);
    animation: float-fast 3s ease-in-out infinite 1s;
  }
  
  @keyframes float-slow {
    0%, 100% { transform: translateY(0px) rotate(-10deg); }
    50% { transform: translateY(-15px) rotate(-8deg); }
  }
  
  @keyframes float-fast {
    0%, 100% { transform: translateY(0px) scaleX(-1) rotate(15deg); }
    50% { transform: translateY(-10px) scaleX(-1) rotate(18deg) scale(1.05); }
  }
  
  @media (max-width: 768px) {
    .hero-mascots { display: none; }
  }
</style>
